2024-08-20 00:00:03.196 +03:00 [Information] Start installing Hangfire SQL objects...
2024-08-20 00:00:03.288 +03:00 [Information] Hangfire SQL objects installed.
2024-08-20 00:00:03.610 +03:00 [Error] Hosting failed to start
System.IO.IOException: Failed to bind to address https://127.0.0.1:7296: address already in use.
 ---> Microsoft.AspNetCore.Connections.AddressInUseException: Обычно разрешается только одно использование адреса сокета (протокол/сетевой адрес/порт).
 ---> System.Net.Sockets.SocketException (10048): Обычно разрешается только одно использование адреса сокета (протокол/сетевой адрес/порт).
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)
   at System.Net.Sockets.Socket.Bind(EndPoint localEP)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()
   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindAsync(ListenOptions[] listenOptions, AddressBindContext context, Func`2 useHttps, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__15_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2024-08-20 00:00:16.590 +03:00 [Information] Server desktop-hi79j2q:15140:5f9efdea caught stopping signal...
2024-08-20 00:00:16.595 +03:00 [Information] Server desktop-hi79j2q:15140:5f9efdea All dispatchers stopped
2024-08-20 00:00:16.600 +03:00 [Information] Server desktop-hi79j2q:15140:5f9efdea successfully reported itself as stopped in 3,4282 ms
2024-08-20 00:00:16.600 +03:00 [Information] Server desktop-hi79j2q:15140:5f9efdea has been stopped in total 7,7867 ms
2024-08-20 00:00:42.479 +03:00 [Information] Start installing Hangfire SQL objects...
2024-08-20 00:00:42.554 +03:00 [Information] Hangfire SQL objects installed.
2024-08-20 00:00:42.764 +03:00 [Information] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: LibraryDB, Schema: hangfire'
2024-08-20 00:00:42.765 +03:00 [Information] Using the following options for PostgreSQL job storage:
2024-08-20 00:00:42.765 +03:00 [Information]     Queue poll interval: 00:00:15.
2024-08-20 00:00:42.765 +03:00 [Information]     Invisibility timeout: 00:30:00.
2024-08-20 00:00:42.765 +03:00 [Information]     Use sliding invisibility timeout: False.
2024-08-20 00:00:42.765 +03:00 [Information] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-20 00:00:42.786 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 successfully announced in 8,9596 ms
2024-08-20 00:00:42.787 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-20 00:00:42.790 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 all the dispatchers started
2024-08-20 00:00:55.724 +03:00 [Information] Запрос: "GET" "/api/Authors/GetAllAuthors", параметры: "none", тело запроса ""
2024-08-20 00:00:56.792 +03:00 [Information] Запрос "GET" "/api/Authors/GetAllAuthors" выполнен
2024-08-20 00:01:10.551 +03:00 [Information] Запрос: "GET" "/api/Authors/GetAllAuthors", параметры: "?surname=%D0%91%D1%80%D0%BE%D0%B4", тело запроса ""
2024-08-20 00:01:10.597 +03:00 [Information] Запрос "GET" "/api/Authors/GetAllAuthors" выполнен
2024-08-20 00:01:20.305 +03:00 [Information] Запрос: "GET" "/api/Authors/GetAllAuthors", параметры: "?surname=%D0%91%D1%80%D0%BE%D0%B4%D1%81%D0%BA%D0%B8%D0%B9", тело запроса ""
2024-08-20 00:01:20.355 +03:00 [Information] Запрос "GET" "/api/Authors/GetAllAuthors" выполнен
2024-08-20 00:01:34.727 +03:00 [Information] Запрос: "POST" "/api/Authors/CreateAuthor", параметры: "none", тело запроса "{
  \"surname\": \"string\",
  \"name\": \"string\",
  \"patronymic\": \"string\"
}"
2024-08-20 00:01:34.918 +03:00 [Information] Запрос "POST" "/api/Authors/CreateAuthor" выполнен
2024-08-20 00:01:40.195 +03:00 [Information] Запрос: "POST" "/api/Authors/CreateAuthor", параметры: "none", тело запроса "{
  \"surname\": \"1g\",
  \"name\": \"string\",
  \"patronymic\": \"string\"
}"
2024-08-20 00:01:40.205 +03:00 [Error] Ошибка при выполнении запроса "POST" "/api/Authors/CreateAuthor"
FluentValidation.ValidationException: Validation failed: 
 -- Dto.Surname: Минимальное количество символов - 3 Severity: Error
   at LibraryAPI.Behaviors.ValidationBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken) in C:\Users\krvch\RiderProjects\LibraryAPI\LibraryAPI\Behaviors\ValidationBehavior.cs:line 29
   at LibraryAPI.Controllers.AuthorsController.CreateAuthor(AuthorCommandDto dto, CancellationToken cancellationToken) in C:\Users\krvch\RiderProjects\LibraryAPI\LibraryAPI\Controllers\AuthorController.cs:line 69
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at LibraryAPI.Services.Logging.LoggingMiddleware.InvokeAsync(HttpContext context) in C:\Users\krvch\RiderProjects\LibraryAPI\LibraryAPI\Services\Logging\LoggingMiddleware.cs:line 35
2024-08-20 00:02:21.460 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 caught stopping signal...
2024-08-20 00:02:21.462 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 All dispatchers stopped
2024-08-20 00:02:21.467 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 successfully reported itself as stopped in 3,344 ms
2024-08-20 00:02:21.467 +03:00 [Information] Server desktop-hi79j2q:20144:7b660346 has been stopped in total 6,8011 ms
2024-08-20 23:15:20.839 +03:00 [Information] Start installing Hangfire SQL objects...
2024-08-20 23:15:20.931 +03:00 [Information] Hangfire SQL objects installed.
2024-08-20 23:15:21.415 +03:00 [Information] Starting Hangfire Server using job storage: 'PostgreSQL Server: Host: localhost, DB: LibraryDB, Schema: hangfire'
2024-08-20 23:15:21.415 +03:00 [Information] Using the following options for PostgreSQL job storage:
2024-08-20 23:15:21.415 +03:00 [Information]     Queue poll interval: 00:00:15.
2024-08-20 23:15:21.415 +03:00 [Information]     Invisibility timeout: 00:30:00.
2024-08-20 23:15:21.415 +03:00 [Information]     Use sliding invisibility timeout: False.
2024-08-20 23:15:21.416 +03:00 [Information] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2024-08-20 23:15:21.449 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d successfully announced in 9,8515 ms
2024-08-20 23:15:21.451 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, Worker, DelayedJobScheduler, RecurringJobScheduler...
2024-08-20 23:15:21.455 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d all the dispatchers started
2024-08-20 23:15:26.065 +03:00 [Information] Запрос: "GET" "/api/Authors/GetAllAuthors", параметры: "none", тело запроса ""
2024-08-20 23:15:26.185 +03:00 [Information] Запрос "GET" "/api/Authors/GetAllAuthors" выполнен
2024-08-20 23:15:41.227 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d caught stopping signal...
2024-08-20 23:15:41.229 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d All dispatchers stopped
2024-08-20 23:15:41.233 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d successfully reported itself as stopped in 2,1901 ms
2024-08-20 23:15:41.233 +03:00 [Information] Server desktop-hi79j2q:12744:885d3d9d has been stopped in total 5,9889 ms
